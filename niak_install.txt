NIAK 0.6.4 INSTALLATION NOTES

=== Matlab/Octave, OS  ===

NIAK can be used within a high-level programming environment called [http://www.mathworks.com/ Matlab], or its open-source (and free) equivalent [http://www.gnu.org/software/octave/index.html Octave]. More specifically, the library has been tested with Octave 3.2.4, Matlab 7.0.1 (R14), Matlab 7a; 7b, Matlab 2008b and Matlab 2009b. The package will '''not''' work with Matlab versions earlier than R14. NIAK has only been tested under Linux (Debian, Ubuntu and CentOS). In addition to Matlab/Octave, NIAK depends on the "image processing" toolbox. This comes by default with Matlab. In Octave, you have to download it from [http://octave.sourceforge.net/image/index.html Octave forge], and follow the [http://octave.sourceforge.net/index.html standard procedure] to install packages. If you are using Octave, note that you will also need [http://www.gnuplot.info/ gnuplot]. 

In Octave, it may be a good idea to add the following lines to the ''.octaverc'' file in your home directory, to change its default behaviour : 

 pkg load image                % Load the image processing package
 more off                      % Verbose in real time, rather than wait for the end of the pipeline
 default_save_options('-7');   % Use .mat files compatible with Matlab
 ignore_function_time_stamp ('all') % This is a bit of a dangerous option, but it makes things run faster. You'll have to exit octave and start again if you want any change in the functions to be taken into account.

=== The NIAK package  ===

The latest stable version can be found [[http://www.nitrc.org/frs/?group_id=411 here]] and the current version of the code is accessible through a subversion repository [[http://code.google.com/p/niak/source/checkout here]]. Once the library has been decompressed, all you need to do is to start a Matlab or Octave session and add the NIAK path (with all his subfolders) to your search path, example: 

 path_niak = '/data/aces/aces1/pbellec/public/niak-0.6.3/'; 
 P = genpath(path_niak); 
 addpath(P); 

At this stage you have access to all matlab/octave functions of the NIAK. 

=== File formats  ===

The package reads and writes MINC files. Both MINC1 and MINC2 are supported (as long as the version of the MINC tools is MINC2). MINC1 files may in addition be compressed (extension .gz). NIAK will generate zipped outputs if the input is zipped. 

=== Demo data  ===

There is a small demo dataset you can download in [[http://www.nitrc.org/frs/download.php/2575/demo_niak_minc1.tar.gz minc1]] or [[http://www.nitrc.org/frs/download.php/2576/demo_niak_minc2.tar.gz minc2]] formats. The main functions available in NIAK have demonstrations (starting by "''niak_demo_''") that run on these data. 

=== MINC tools  ===

NIAK has a single dependency on the opensource package called [[http://en.wikibooks.org/wiki/MINC MINC tools]]. MINC tools are publicly available for LINUX (packaged for Debian/Ubuntu), Windows and MAC OSX [[http://packages.bic.mni.mcgill.ca/ here]]. There is a tutorial for the installation [[http://en.wikibooks.org/wiki/MINC/Installation here]] (the easiest system by far for the installation is Linux Ubuntu). 

=== Configuration of the pipeline manager  ===

NIAK is using a pipeline system called [[http://code.google.com/p/psom/ PSOM]]. PSOM is bundled in the NIAK archive, in the folder "''extensions/psom-x.x/''". PSOM has many interesting features, such as running jobs in parallel, keeping track of the pipeline options and logs, restarting failed job or dealing with pipeline updates. By default, PSOM will process jobs in the background using two cores (this means for example that two subjects can be processed in parallel). The configuration can be adapted to use more/less CPUS, run in a single session or take advantage of supercomputers. Configuration can be changed when invoking a pipeline, but it may be simpler to adapt the configuration to your local computing environment once and for all through editing a configuration file. Details about PSOM configuration can be found in the dedicated [[http://code.google.com/p/psom/wiki/ConfigurationPsom tutorial]]. 